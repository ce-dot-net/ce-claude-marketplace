---
description: Configure ACE server connection settings interactively
---

# Configure ACE Connection

Interactive configuration wizard for ACE server connection.

## Instructions for Claude

When the user runs `/ace-configure`, follow these steps:

1. **Ask for Server URL:**
   - Prompt: "What is your ACE server URL? (default: http://localhost:9000)"
   - If blank, use: `http://localhost:9000`

2. **Ask for API Token:**
   - Prompt: "What is your ACE API token? (Get from your ACE server logs or dashboard)"
   - Required - must start with `ace_`

3. **Ask for Project ID:**
   - Prompt: "What is your ACE project ID? (Get from your ACE server dashboard)"
   - Required - usually starts with `prj_`

4. **Save Configuration:**
   - Use the `ace_save_config` MCP tool with the provided values
   - Show the confirmation message from the tool

5. **Next Steps:**
   - Tell user to restart Claude Code for changes to take effect
   - Suggest running `/ace-status` to verify connection

## Example Interaction

```
User: /ace-configure

Claude: I'll help you configure your ACE server connection.

What is your ACE server URL? (default: http://localhost:9000)
User: [press Enter or type URL]

What is your ACE API token? (Get from your ACE server logs)
User: ace_your_api_token_here

What is your ACE project ID? (Get from your ACE server dashboard)
User: prj_your_project_id

[Claude calls ace_save_config tool]

âœ… Configuration saved to: /Users/you/.ace/config.json

Next steps:
1. Restart Claude Code (Cmd+Q, then reopen)
2. Run: /ace-status to verify connection
```

## Configuration Storage

Configuration is saved to `~/.ace/config.json`:
```json
{
  "serverUrl": "http://localhost:9000",
  "apiToken": "ace_your_api_token_here",
  "projectId": "prj_your_project_id"
}
```

## Alternative: Environment Variables

You can also set configuration via environment variables:
```bash
export ACE_SERVER_URL="http://localhost:9000"
export ACE_API_TOKEN="ace_your_api_token_here"
export ACE_PROJECT_ID="prj_your_project_id"
```

Add to `~/.zshrc` or `~/.bashrc` to persist across sessions.

## Alternative: Claude Code Settings

You can add to `~/.config/claude-code/settings.json`:
```json
{
  "env": {
    "ACE_SERVER_URL": "http://localhost:9000",
    "ACE_API_TOKEN": "ace_your_api_token_here",
    "ACE_PROJECT_ID": "prj_your_project_id"
  }
}
```

## Configuration Priority

The MCP client checks for configuration in this order:
1. Environment variables (highest priority)
2. `~/.ace/config.json`
3. Claude Code settings.json
4. Default values (lowest priority)

## Getting Your Credentials

### Server URL
Your ACE server URL. If running locally:
- Default: `http://localhost:9000`
- Check your ACE server logs for the correct port

### API Token
Generated by your ACE server on first start. Check:
- Server logs: Look for "API Token: ace_xxxxx"
- Server admin panel
- Ask your team's ACE administrator

### Project ID
Your project identifier in ACE. Check:
- ACE dashboard
- Server admin panel
- Ask your team's ACE administrator

## Troubleshooting

### "Cannot connect to ACE server"
1. Check server URL is correct: `curl http://localhost:9000/api/health`
2. Verify ACE server is running
3. Check firewall settings

### "Authentication failed"
1. Verify API token is correct
2. Check token hasn't expired
3. Generate new token from ACE server

### "Project not found"
1. Verify project ID exists in ACE server
2. Check you have access to the project
3. Create new project in ACE dashboard

## See Also

- `/ace-status` - Check current ACE connection status
- `/ace-init` - Initialize pattern discovery
- Plugin installation guide: `INSTALL.md`

## Running the Configuration

This command runs an interactive Node.js script that prompts for input.

**Note**: Make sure Node.js is installed (v18+).

## Testing the Configuration

After saving, test your connection:

```bash
/ace-status
```

This will show if ACE server is reachable and authenticated.

## Manual Configuration

If you prefer to configure manually, create `~/.ace/config.json`:

```json
{
  "serverUrl": "http://localhost:9000",
  "apiToken": "ace_xxxxxxxxxxxxx",
  "projectId": "prj_xxxxxxxxxxxxx"
}
```

## Getting Your Credentials

### 1. Server URL

Your ACE server URL. Common values:
- Local development: `http://localhost:9000`
- Remote server: `https://ace.yourcompany.com`

### 2. API Token

Generated by ACE server. Find it in:
- Server startup logs: `"API Token: ace_xxxxx"`
- Server dashboard under Settings > API Keys
- Ask your team's ACE administrator

### 3. Project ID

Your project identifier. Find it in:
- ACE dashboard project list
- Server admin panel
- Ask your team's ACE administrator

## Troubleshooting

### "Cannot save configuration"

Check permissions for `~/.ace/` directory:
```bash
mkdir -p ~/.ace
chmod 755 ~/.ace
```

### "Connection test failed"

1. Verify server URL: `curl http://localhost:9000/api/health`
2. Check ACE server is running
3. Verify firewall allows connection

### "Authentication failed"

1. Check API token is correct (no extra spaces)
2. Token may have expired - generate new one
3. Verify token has correct permissions

## See Also

- `/ace-status` - Test your current configuration
- `/ace-init` - Initialize pattern discovery
- Installation guide: `plugins/ace-orchestration/INSTALL.md`
